# 尼采谱系学-Thinkers Wiki 开发者索引

本索引用于开发者快速定位代码中的各个功能模块、派系区域和主要代码片段的位置，方便添加新思想家或修改功能。

## 一、页面整体结构

| 部分名称 | 行号范围 | 功能描述 |
|---------|---------|---------|
| HTML头部 | 1-60 | 包含元数据、Tailwind CSS配置、自定义工具类样式 |
| 顶部导航栏 | 62-69 | 页面标题和副标题 |
| 移动端派系导航 | 71-82 | 下拉选择框，用于移动端筛选派系 |
| 快速定位指示器 | 84-97 | 桌面端右侧固定的派系颜色指示器 |
| 主体内容区 | 99-1146 | 包含左侧导航和右侧思想家列表 |
| 页脚 | 1148-1155 | 版权信息和思想家数量统计 |
| JavaScript代码 | 1157-1331 | 所有交互功能的实现代码 |

## 二、思想派系索引

以下是所有派系的ID、名称和在HTML中的位置：

| 派系ID | 派系名称 | 开始行号 | 描述 |
|-------|---------|---------|------|
| nietzsche | 尼采及核心继承者 | 180 | 直接继承尼采思想的思想家，红色主题 |
| existential | 存在主义谱系 | 约250 | 存在主义哲学思想家，靛蓝色主题 |
| pioneer | 先驱与同路人 | 约320 | 尼采思想的先驱和同伴，蓝色主题 |
| christian | 基督教谱系 | 约390 | 基督教相关思想家，绿色主题 |
| rationalist | 理性主义谱系 | 约460 | 理性主义哲学思想家，紫色主题 |
| linguistics | 语言学谱系 | 约530 | 语言学相关思想家，中紫色主题 |
| psychology | 深度心理学谱系 | 约600 | 精神分析和心理学思想家，天蓝色主题 |
| russian | 俄国文学谱系 | 约670 | 俄国文学相关思想家，橙色主题 |
| sympathy | 同情与现实的捍卫者 | 约740 | 强调同情和现实关怀的思想家，棕色主题 |

## 三、JavaScript功能模块索引

| 功能模块 | 行号范围 | 函数/变量名 | 描述 |
|---------|---------|------------|------|
| 派系颜色映射 | 1159-1171 | groupColors | 定义各派系的主题颜色 |
| 派系名称映射 | 1173-1185 | groupNames | 定义各派系的中文名称 |
| 导航激活状态切换 | 1187-1214 | navItems.forEach() | 处理桌面端导航点击事件，包含滚动逻辑 |
| 移动端下拉选择筛选 | 1216-1236 | mobile-faction-select | 处理移动端下拉选择事件 |
| 派系筛选核心函数 | 1238-1250 | filterThinkers | 控制思想家卡片的显示与隐藏 |
| 滚动指示器功能 | 1252-1286 | highlightScrollIndicator | 监听滚动事件更新指示器状态 |
| 初始加载逻辑 | 1288-1294 | window.addEventListener('load') | 页面加载时的初始化操作 |
| 动态思想家数量统计 | 1296-1302 | updateThinkerCount | 统计并更新页脚的思想家数量 |
| 筛选后更新计数 | 1304-1309 | 重写filterThinkers函数 | 在筛选后自动更新思想家数量 |

## 四、添加新思想家的步骤

1. 确定新思想家所属派系（参考派系索引）
2. 找到对应派系的section标签（通过派系ID查找）
3. 在该section的grid容器内添加新的思想家卡片，格式参考现有卡片
4. 确保新卡片包含以下属性和内容：
   - `class="thinker-card"` 类名
   - `data-faction="派系ID"` 属性
   - 姓名、生卒年、国籍/身份
   - 核心主张、代表作
   - 思想简介（与尼采思想的关联）
5. 无需手动更新思想家数量，系统会自动统计

## 五、修改派系或添加新派系的步骤

1. 在CSS的tailwind.config中添加新派系的颜色定义（如果是新派系）
2. 在JavaScript的groupColors和groupNames对象中添加新派系的映射
3. 在左侧导航栏（desktop-nav）中添加新的导航项
4. 在移动端下拉选择框中添加新的选项
5. 在滚动指示器中添加新的指示器项
6. 在页面主体内容区添加新的section标签，并设置正确的ID和样式
7. 在新section中添加思想家卡片

## 六、修改交互功能

所有交互功能都集中在文件底部的JavaScript代码块中，请根据功能模块索引找到对应代码进行修改。

## 七、添加和修改时间轴

### 7.1 时间轴结构说明

时间轴功能主要在俄国文学谱系（russian）部分实现，包含以下核心组件：

| 组件名称 | 行号范围 | 描述 |
|---------|---------|------|
| 时间轴容器 | 约970-972 | 包含时间轴标题和描述的主容器 |
| 轴中心线 | 约978 | 时间轴的垂直中线 |
| 时间点容器 | 约980 | 包含所有时间点的flex容器 |
| 时间点项 | 约982-1018 | 各个思想家的时间点，包含数字标识和名称 |
| 决裂区间 | 约1020-1025 | 特殊的决裂事件标识，位于时间轴中间 |
| 弹窗容器 | 约1060-1067 | 点击时间点后显示的详情弹窗 |
| 人物数据对象 | 约1069-1161 | 存储所有时间点人物详细信息的JavaScript对象 |
| 交互脚本 | 约1163-1187 | 控制时间轴弹窗显示/隐藏的JavaScript代码 |

### 7.2 添加新的时间点

1. 在时间点容器（`class="relative z-10 flex items-center justify-between"`）内添加新的时间点项：
   ```html
   <!-- 新思想家 -->
   <div class="timeline-item cursor-pointer" data-person="新人物ID">
       <div class="w-6 h-6 rounded-full bg-orange-500 flex items-center justify-center text-white font-bold hover:bg-orange-600 transition-colors" style="margin-left: 100%; transform: translateX(-50%);">
           序号
       </div>
       <div class="text-center mt-2 font-medium text-orange-700">年份<br>【新思想家名称】</div>
   </div>
   ```

2. 在personData JavaScript对象中添加新人物的数据：
   ```javascript
   "新人物ID": {
       name: "新思想家完整名称",
       year: "时间轴上显示的年份信息",
       role: "该思想家在杂志社的角色描述",
       keyWorks: "关键作品和贡献描述",
       split: "与其他派系或思想家的决裂关联"
   },
   ```

### 7.3 修改现有时间点

1. 要修改时间轴上的显示信息，直接修改对应时间点项的HTML内容
2. 要修改弹窗中显示的详细信息，修改personData对象中对应人物的数据

### 7.4 添加新的时间轴区间

如果需要添加类似"美学vs功利"决裂区间这样的特殊标识：

1. 在时间点容器内添加新的决裂区间元素，注意设置正确的位置样式：
   ```html
   <!-- 新决裂区间 -->
   <div class="text-center timeline-item cursor-pointer" data-person="新决裂ID" style="position: absolute; left: X%; bottom: -60px; transform: translateX(-50%);">
       <span class="inline-block px-6 py-1 bg-red-100 text-red-700 rounded-full font-bold text-sm border border-red-300 hover:bg-red-200 transition-colors">
           年份范围 <span style="color: red;">⚡</span> "决裂主题"决裂区间
       </span>
   </div>
   ```

2. 在personData对象中添加新决裂区间的数据

### 7.5 自定义时间轴样式

1. 修改时间轴容器的背景色和边框：修改`bg-orange-50`和`border-orange-200`类
2. 修改轴中心线颜色：修改`bg-orange-500`类
3. 修改时间点颜色：修改`bg-orange-500`和`hover:bg-orange-600`类
4. 修改文字颜色：修改`text-orange-700`和`text-orange-600`类
5. 调整时间点间距：修改时间点容器的`justify-between`或添加自定义间距样式

### 7.6 注意事项

1. 确保personData对象中的ID与HTML中data-person属性值完全匹配
2. 当在personData对象中添加最后一个属性时，不要在末尾添加逗号
3. 所有文本内容应使用单引号或转义双引号，避免JavaScript语法错误
4. 添加新时间点后，可能需要调整现有时间点的间距和位置，以保持时间轴的美观性